<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">lib/recurly/Client.js | recurly-client-node</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Recurly V3 node client"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="recurly-client-node"><meta property="twitter:description" content="Recurly V3 node client"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#recurly-resources">recurly/resources</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Account">Account</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AccountAcquisition">AccountAcquisition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AccountBalance">AccountBalance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AccountMini">AccountMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AccountNote">AccountNote</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddOn">AddOn</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddOnMini">AddOnMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddOnPricing">AddOnPricing</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Address">Address</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-BillingInfo">BillingInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Coupon">Coupon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CouponDiscount">CouponDiscount</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CouponDiscountPricing">CouponDiscountPricing</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CouponMini">CouponMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CouponRedemption">CouponRedemption</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CouponRedemptionMini">CouponRedemptionMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CreditPayment">CreditPayment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CustomField">CustomField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CustomFieldDefinition">CustomFieldDefinition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Error">Error</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ErrorMayHaveTransaction">ErrorMayHaveTransaction</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Invoice">Invoice</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InvoiceAddress">InvoiceAddress</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InvoiceCollection">InvoiceCollection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InvoiceMini">InvoiceMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LineItem">LineItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LineItemList">LineItemList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Plan">Plan</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PlanMini">PlanMini</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PlanPricing">PlanPricing</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Settings">Settings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ShippingAddress">ShippingAddress</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ShippingMethod">ShippingMethod</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Site">Site</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Subscription">Subscription</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SubscriptionAddOn">SubscriptionAddOn</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SubscriptionChange">SubscriptionChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TaxInfo">TaxInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Transaction">Transaction</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-UniqueCouponCode">UniqueCouponCode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-User">User</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">lib/recurly/Client.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * This file is automatically created by Recurly&apos;s OpenAPI generation process
 * and thus any edits you make by hand will be lost. If you wish to make a
 * change to this file, please create a Github issue explaining the changes you
 * need and we will usher them to the appropriate places.
 */
&apos;use strict&apos;

const BaseClient = require(&apos;./BaseClient&apos;)

const Pager = require(&apos;./Pager&apos;)

/**
 *
 * @param {string} apiKey - The private api key.
 * @param {string} siteId - The site id. Accepts the base-36 id or format: `subdomain-${subdomain}`.
 */
class Client extends BaseClient {
  apiVersion () {
    return &apos;v2018-10-04&apos;
  }

  /**
   * List sites
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @return {Pager&lt;Site&gt;} A list of sites.
   */
  listSites (params = {}) {
    let path = &apos;/sites&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch a site
   *
   * @return {Promise&lt;Site&gt;} A site.
   */
  async getSite () {
    let path = &apos;/sites/{site_id}&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s accounts
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.subscriber - Filter accounts accounts with or without a subscription in the `active`,
   *   `canceled`, or `future` state.
   *
   * @param {string} params.pastDue - Filter for accounts with an invoice in the `past_due` state.
   * @return {Pager&lt;Account&gt;} A list of the site&apos;s accounts.
   */
  listAccounts (params = {}) {
    let path = &apos;/sites/{site_id}/accounts&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Create an account
   *
   * @param {AccountCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {AccountCreate}
   * @return {Promise&lt;Account&gt;} An account.
   */
  async createAccount (body) {
    let path = &apos;/sites/{site_id}/accounts&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;Account&gt;} An account.
   */
  async getAccount (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Modify an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {AccountUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {AccountUpdate}
   * @return {Promise&lt;Account&gt;} An account.
   */
  async updateAccount (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Deactivate an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;Account&gt;} An account.
   */
  async deactivateAccount (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * Fetch an account&apos;s acquisition data
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;AccountAcquisition&gt;} An account&apos;s acquisition data.
   */
  async getAccountAcquisition (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/acquisition&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update an account&apos;s acquisition data
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {AccountAcquisitionUpdatable} body - The object representing the JSON request to send to the server. It should conform to the schema of {AccountAcquisitionUpdatable}
   * @return {Promise&lt;AccountAcquisition&gt;} An account&apos;s updated acquisition data.
   */
  async updateAccountAcquisition (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/acquisition&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Remove an account&apos;s acquisition data
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise} Acquisition data was succesfully deleted.
   */
  async removeAccountAcquisition (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/acquisition&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * Reactivate an inactive account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;Account&gt;} An account.
   */
  async reactivateAccount (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/reactivate&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Fetch an account&apos;s balance and past due status
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;AccountBalance&gt;} An account&apos;s balance.
   */
  async getAccountBalance (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/balance&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Fetch an account&apos;s billing information
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;BillingInfo&gt;} An account&apos;s billing information.
   */
  async getBillingInfo (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/billing_info&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Set an account&apos;s billing information
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {BillingInfoCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {BillingInfoCreate}
   * @return {Promise&lt;BillingInfo&gt;} Updated billing information.
   */
  async updateBillingInfo (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/billing_info&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Remove an account&apos;s billing information
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise} Billing information deleted
   */
  async removeBillingInfo (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/billing_info&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * Show the coupon redemptions for an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @return {Pager&lt;CouponRedemption&gt;} A list of the the coupon redemptions on an account.
   */
  listAccountCouponRedemptions (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/coupon_redemptions&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * Show the coupon redemption that is active on an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;CouponRedemption&gt;} An active coupon redemption on an account.
   */
  async getActiveCouponRedemption (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/coupon_redemptions/active&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Generate an active coupon redemption on an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {CouponRedemptionCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {CouponRedemptionCreate}
   * @return {Promise&lt;CouponRedemption&gt;} Returns the new coupon redemption.
   */
  async createCouponRedemption (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/coupon_redemptions/active&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Delete the active coupon redemption from an account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @return {Promise&lt;CouponRedemption&gt;} Coupon redemption deleted.
   */
  async removeCouponRedemption (accountId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/coupon_redemptions/active&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List an account&apos;s credit payments
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;CreditPayment&gt;} A list of the account&apos;s credit payments.
   */
  listAccountCreditPayments (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/credit_payments&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * List an account&apos;s invoices
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.type - Filter by type when:
   *   - `type=charge`, only charge invoices will be returned.
   *   - `type=credit`, only credit invoices will be returned.
   *   - `type=non-legacy`, only charge and credit invoices will be returned.
   *   - `type=legacy`, only legacy invoices will be returned.
   *
   * @return {Pager&lt;Invoice&gt;} A list of the account&apos;s invoices.
   */
  listAccountInvoices (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/invoices&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * Create an invoice for pending line items
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {InvoiceCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {InvoiceCreate}
   * @return {Promise&lt;InvoiceCollection&gt;} Returns the new invoices.
   */
  async createInvoice (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/invoices&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Preview new invoice for pending line items
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {InvoiceCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {InvoiceCreate}
   * @return {Promise&lt;InvoiceCollection&gt;} Returns the invoice previews.
   */
  async previewInvoice (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/invoices/preview&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * List an account&apos;s line items
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.original - Filter by original field.
   * @param {string} params.state - Filter by state field.
   * @param {string} params.type - Filter by type field.
   * @return {Pager&lt;LineItem&gt;} A list of the account&apos;s line items.
   */
  listAccountLineItems (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/line_items&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * Create a new line item for the account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {LineItemCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {LineItemCreate}
   * @return {Promise&lt;LineItem&gt;} Returns the new line item.
   */
  async createLineItem (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/line_items&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch a list of an account&apos;s notes
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @return {Pager&lt;AccountNote&gt;} A list of an account&apos;s notes.
   */
  listAccountNotes (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/notes&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * Fetch an account note
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {string} accountNoteId - Account Note ID.
   * @return {Promise&lt;AccountNote&gt;} An account note.
   */
  async getAccountNote (accountId, accountNoteId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/notes/{account_note_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId, &apos;account_note_id&apos;: accountNoteId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Fetch a list of an account&apos;s shipping addresses
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;ShippingAddress&gt;} A list of an account&apos;s shipping addresses.
   */
  listShippingAddresses (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/shipping_addresses&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * Create a new shipping address for the account
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {ShippingAddressCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {ShippingAddressCreate}
   * @return {Promise&lt;ShippingAddress&gt;} Returns the new shipping address.
   */
  async createShippingAddress (accountId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/shipping_addresses&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch an account&apos;s shipping address
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {string} shippingAddressId - Shipping Address ID.
   * @return {Promise&lt;ShippingAddress&gt;} A shipping address.
   */
  async getShippingAddress (accountId, shippingAddressId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/shipping_addresses/{shipping_address_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId, &apos;shipping_address_id&apos;: shippingAddressId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update an account&apos;s shipping address
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {string} shippingAddressId - Shipping Address ID.
   * @param {ShippingAddressUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {ShippingAddressUpdate}
   * @return {Promise&lt;ShippingAddress&gt;} The updated shipping address.
   */
  async updateShippingAddress (accountId, shippingAddressId, body) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/shipping_addresses/{shipping_address_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId, &apos;shipping_address_id&apos;: shippingAddressId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Remove an account&apos;s shipping address
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {string} shippingAddressId - Shipping Address ID.
   * @return {Promise} Shipping address deleted.
   */
  async removeShippingAddress (accountId, shippingAddressId) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/shipping_addresses/{shipping_address_id}&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId, &apos;shipping_address_id&apos;: shippingAddressId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List an account&apos;s subscriptions
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.state - Filter by state.
   *   - When `state=active`, `state=canceled`, `state=expired`, or `state=future`, subscriptions with states that match the query and only those subscriptions will be returned.
   *   - When `state=in_trial`, only subscriptions that have a trial_started_at date earlier than now and a trial_ends_at date later than now will be returned.
   *   - When `state=live`, only subscriptions that are in an active, canceled, or future state or are in trial will be returned.
   *
   * @return {Pager&lt;Subscription&gt;} A list of the account&apos;s subscriptions.
   */
  listAccountSubscriptions (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/subscriptions&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * List an account&apos;s transactions
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.type - Filter by type field. The value `payment` will return both `purchase` and `capture` transactions.
   * @param {string} params.success - Filter by success field.
   * @return {Pager&lt;Transaction&gt;} A list of the account&apos;s transactions.
   */
  listAccountTransactions (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/transactions&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * List an account&apos;s child accounts
   *
   * @param {string} accountId - Account ID or code (use prefix: `code-`, e.g. `code-bob`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.subscriber - Filter accounts accounts with or without a subscription in the `active`,
   *   `canceled`, or `future` state.
   *
   * @param {string} params.pastDue - Filter for accounts with an invoice in the `past_due` state.
   * @return {Pager&lt;Account&gt;} A list of an account&apos;s child accounts.
   */
  listChildAccounts (accountId, params = {}) {
    let path = &apos;/sites/{site_id}/accounts/{account_id}/accounts&apos;
    path = this._interpolatePath(path, { &apos;account_id&apos;: accountId })
    return new Pager(this, path, params)
  }

  /**
   * List a site&apos;s account acquisition data
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Promise&lt;AccountAcquisition&gt;} A list of the site&apos;s account acquisition data.
   */
  async listAccountAcquisition (params = {}) {
    let path = &apos;/sites/{site_id}/acquisitions&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s coupons
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;Coupon&gt;} A list of the site&apos;s coupons.
   */
  listCoupons (params = {}) {
    let path = &apos;/sites/{site_id}/coupons&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Create a new coupon
   *
   * @param {CouponCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {CouponCreate}
   * @return {Promise&lt;Coupon&gt;} A new coupon.
   */
  async createCoupon (body) {
    let path = &apos;/sites/{site_id}/coupons&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch a coupon
   *
   * @param {string} couponId - Coupon ID or code (use prefix: `code-`, e.g. `code-10off`).
   * @return {Promise&lt;Coupon&gt;} A coupon.
   */
  async getCoupon (couponId) {
    let path = &apos;/sites/{site_id}/coupons/{coupon_id}&apos;
    path = this._interpolatePath(path, { &apos;coupon_id&apos;: couponId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update an active coupon
   *
   * @param {string} couponId - Coupon ID or code (use prefix: `code-`, e.g. `code-10off`).
   * @param {CouponUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {CouponUpdate}
   * @return {Promise&lt;Coupon&gt;} The updated coupon.
   */
  async updateCoupon (couponId, body) {
    let path = &apos;/sites/{site_id}/coupons/{coupon_id}&apos;
    path = this._interpolatePath(path, { &apos;coupon_id&apos;: couponId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * List unique coupon codes associated with a bulk coupon
   *
   * @param {string} couponId - Coupon ID or code (use prefix: `code-`, e.g. `code-10off`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;UniqueCouponCode&gt;} A list of unique coupon codes that were generated
   */
  listUniqueCouponCodes (couponId, params = {}) {
    let path = &apos;/sites/{site_id}/coupons/{coupon_id}/unique_coupon_codes&apos;
    path = this._interpolatePath(path, { &apos;coupon_id&apos;: couponId })
    return new Pager(this, path, params)
  }

  /**
   * List a site&apos;s credit payments
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;CreditPayment&gt;} A list of the site&apos;s credit payments.
   */
  listCreditPayments (params = {}) {
    let path = &apos;/sites/{site_id}/credit_payments&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch a credit payment
   *
   * @param {string} creditPaymentId - Credit Payment ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;CreditPayment&gt;} A credit payment.
   */
  async getCreditPayment (creditPaymentId) {
    let path = &apos;/sites/{site_id}/credit_payments/{credit_payment_id}&apos;
    path = this._interpolatePath(path, { &apos;credit_payment_id&apos;: creditPaymentId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s custom field definitions
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;CustomFieldDefinition&gt;} A list of the site&apos;s custom field definitions.
   */
  listCustomFieldDefinitions (params = {}) {
    let path = &apos;/sites/{site_id}/custom_field_definitions&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch an custom field definition
   *
   * @param {string} customFieldDefinitionId - Custom Field Definition ID
   * @return {Promise&lt;CustomFieldDefinition&gt;} An custom field definition.
   */
  async getCustomFieldDefinition (customFieldDefinitionId) {
    let path = &apos;/sites/{site_id}/custom_field_definitions/{custom_field_definition_id}&apos;
    path = this._interpolatePath(path, { &apos;custom_field_definition_id&apos;: customFieldDefinitionId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s invoices
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.type - Filter by type when:
   *   - `type=charge`, only charge invoices will be returned.
   *   - `type=credit`, only credit invoices will be returned.
   *   - `type=non-legacy`, only charge and credit invoices will be returned.
   *   - `type=legacy`, only legacy invoices will be returned.
   *
   * @return {Pager&lt;Invoice&gt;} A list of the site&apos;s invoices.
   */
  listInvoices (params = {}) {
    let path = &apos;/sites/{site_id}/invoices&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch an invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Promise&lt;Invoice&gt;} An invoice.
   */
  async getInvoice (invoiceId) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update an invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @param {InvoiceUpdatable} body - The object representing the JSON request to send to the server. It should conform to the schema of {InvoiceUpdatable}
   * @return {Promise&lt;Invoice&gt;} An invoice.
   */
  async putInvoice (invoiceId, body) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Collect a pending or past due, automatic invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Promise&lt;Invoice&gt;} The updated invoice.
   */
  async collectInvoice (invoiceId) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/collect&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Mark an open invoice as failed
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Promise&lt;Invoice&gt;} The updated invoice.
   */
  async failInvoice (invoiceId) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/mark_failed&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Mark an open invoice as successful
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Promise&lt;Invoice&gt;} The updated invoice.
   */
  async markInvoiceSuccessful (invoiceId) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/mark_successful&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Reopen a closed, manual invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Promise&lt;Invoice&gt;} The updated invoice.
   */
  async reopenInvoice (invoiceId) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/reopen&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * List a invoice&apos;s line items
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.original - Filter by original field.
   * @param {string} params.state - Filter by state field.
   * @param {string} params.type - Filter by type field.
   * @return {Pager&lt;LineItem&gt;} A list of the invoice&apos;s line items.
   */
  listInvoiceLineItems (invoiceId, params = {}) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/line_items&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return new Pager(this, path, params)
  }

  /**
   * Show the coupon redemptions applied to an invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @return {Pager&lt;CouponRedemption&gt;} A list of the the coupon redemptions associated with the invoice.
   */
  listInvoiceCouponRedemptions (invoiceId, params = {}) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/coupon_redemptions&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return new Pager(this, path, params)
  }

  /**
   * List an invoice&apos;s related credit or charge invoices
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @return {Pager&lt;Invoice&gt;} A list of the credit or charge invoices associated with the invoice.
   */
  listRelatedInvoices (invoiceId, params = {}) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/related_invoices&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return new Pager(this, path, params)
  }

  /**
   * Refund an invoice
   *
   * @param {string} invoiceId - Invoice ID or number (use prefix: `number-`, e.g. `number-1000`).
   * @param {InvoiceRefund} body - The object representing the JSON request to send to the server. It should conform to the schema of {InvoiceRefund}
   * @return {Promise&lt;Invoice&gt;} Returns the new credit invoice.
   */
  async refundInvoice (invoiceId, body) {
    let path = &apos;/sites/{site_id}/invoices/{invoice_id}/refund&apos;
    path = this._interpolatePath(path, { &apos;invoice_id&apos;: invoiceId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * List a site&apos;s line items
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.original - Filter by original field.
   * @param {string} params.state - Filter by state field.
   * @param {string} params.type - Filter by type field.
   * @return {Pager&lt;LineItem&gt;} A list of the site&apos;s line items.
   */
  listLineItems (params = {}) {
    let path = &apos;/sites/{site_id}/line_items&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch a line item
   *
   * @param {string} lineItemId - Line Item ID.
   * @return {Promise&lt;LineItem&gt;} A line item.
   */
  async getLineItem (lineItemId) {
    let path = &apos;/sites/{site_id}/line_items/{line_item_id}&apos;
    path = this._interpolatePath(path, { &apos;line_item_id&apos;: lineItemId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Delete an uninvoiced line item
   *
   * @param {string} lineItemId - Line Item ID.
   * @return {Promise} Line item deleted.
   */
  async removeLineItem (lineItemId) {
    let path = &apos;/sites/{site_id}/line_items/{line_item_id}&apos;
    path = this._interpolatePath(path, { &apos;line_item_id&apos;: lineItemId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List a site&apos;s plans
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.state - Filter by state.
   * @return {Pager&lt;Plan&gt;} A list of plans.
   */
  listPlans (params = {}) {
    let path = &apos;/sites/{site_id}/plans&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Create a plan
   *
   * @param {PlanCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {PlanCreate}
   * @return {Promise&lt;Plan&gt;} A plan.
   */
  async createPlan (body) {
    let path = &apos;/sites/{site_id}/plans&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch a plan
   *
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @return {Promise&lt;Plan&gt;} A plan.
   */
  async getPlan (planId) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}&apos;
    path = this._interpolatePath(path, { &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update a plan
   *
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {PlanUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {PlanUpdate}
   * @return {Promise&lt;Plan&gt;} A plan.
   */
  async updatePlan (planId, body) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}&apos;
    path = this._interpolatePath(path, { &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Remove a plan
   *
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @return {Promise&lt;Plan&gt;} Plan deleted
   */
  async removePlan (planId) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}&apos;
    path = this._interpolatePath(path, { &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List a plan&apos;s add-ons
   *
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.state - Filter by state.
   * @return {Pager&lt;AddOn&gt;} A list of add-ons.
   */
  listPlanAddOns (planId, params = {}) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}/add_ons&apos;
    path = this._interpolatePath(path, { &apos;plan_id&apos;: planId })
    return new Pager(this, path, params)
  }

  /**
   * Create an add-on
   *
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {AddOnCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {AddOnCreate}
   * @return {Promise&lt;AddOn&gt;} An add-on.
   */
  async createPlanAddOn (planId, body) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}/add_ons&apos;
    path = this._interpolatePath(path, { &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch a plan&apos;s add-on
   *
   * @param {string} addOnId - Add-on ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @return {Promise&lt;AddOn&gt;} An add-on.
   */
  async getPlanAddOn (addOnId, planId) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}/add_ons/{add_on_id}&apos;
    path = this._interpolatePath(path, { &apos;add_on_id&apos;: addOnId, &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Update an add-on
   *
   * @param {string} addOnId - Add-on ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {AddOnUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {AddOnUpdate}
   * @return {Promise&lt;AddOn&gt;} An add-on.
   */
  async updatePlanAddOn (addOnId, planId, body) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}/add_ons/{add_on_id}&apos;
    path = this._interpolatePath(path, { &apos;add_on_id&apos;: addOnId, &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Remove an add-on
   *
   * @param {string} addOnId - Add-on ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @param {string} planId - Plan ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @return {Promise&lt;AddOn&gt;} Add-on deleted
   */
  async removePlanAddOn (addOnId, planId) {
    let path = &apos;/sites/{site_id}/plans/{plan_id}/add_ons/{add_on_id}&apos;
    path = this._interpolatePath(path, { &apos;add_on_id&apos;: addOnId, &apos;plan_id&apos;: planId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List a site&apos;s add-ons
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.state - Filter by state.
   * @return {Pager&lt;AddOn&gt;} A list of add-ons.
   */
  listAddOns (params = {}) {
    let path = &apos;/sites/{site_id}/add_ons&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch an add-on
   *
   * @param {string} addOnId - Add-on ID or code (use prefix: `code-`, e.g. `code-gold`).
   * @return {Promise&lt;AddOn&gt;} An add-on.
   */
  async getAddOn (addOnId) {
    let path = &apos;/sites/{site_id}/add_ons/{add_on_id}&apos;
    path = this._interpolatePath(path, { &apos;add_on_id&apos;: addOnId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s shipping services
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @return {Pager&lt;ShippingMethod&gt;} A list of the site&apos;s shipping services.
   */
  listShippingServices (params = {}) {
    let path = &apos;/sites/{site_id}/shipping_services&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch a shipping service
   *
   * @param {string} id - Shipping Service ID or code (use prefix: `code-`, e.g. `code-usps_2-day`).
   * @return {Promise&lt;ShippingMethod&gt;} A shipping_service.
   */
  async getShippingService (id) {
    let path = &apos;/sites/{site_id}/shipping_services/{id}&apos;
    path = this._interpolatePath(path, { &apos;id&apos;: id })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * List a site&apos;s subscriptions
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.state - Filter by state.
   *   - When `state=active`, `state=canceled`, `state=expired`, or `state=future`, subscriptions with states that match the query and only those subscriptions will be returned.
   *   - When `state=in_trial`, only subscriptions that have a trial_started_at date earlier than now and a trial_ends_at date later than now will be returned.
   *   - When `state=live`, only subscriptions that are in an active, canceled, or future state or are in trial will be returned.
   *
   * @return {Pager&lt;Subscription&gt;} A list of the site&apos;s subscriptions.
   */
  listSubscriptions (params = {}) {
    let path = &apos;/sites/{site_id}/subscriptions&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Create a new subscription
   *
   * @param {SubscriptionCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {SubscriptionCreate}
   * @return {Promise&lt;Subscription&gt;} A subscription.
   */
  async createSubscription (body) {
    let path = &apos;/sites/{site_id}/subscriptions&apos;
    path = this._interpolatePath(path)
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Fetch a subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;Subscription&gt;} A subscription.
   */
  async getSubscription (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Modify a subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {SubscriptionUpdate} body - The object representing the JSON request to send to the server. It should conform to the schema of {SubscriptionUpdate}
   * @return {Promise&lt;Subscription&gt;} A subscription.
   */
  async modifySubscription (subscriptionId, body) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Terminate a subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {string} params.refund - The type of refund to perform:
   *
   *   * `full` - Performs a full refund of the last invoice for the current subscription term.
   *   * `partial` - Prorates a refund based on the amount of time remaining in the current bill cycle.
   *   * `none` - Terminates the subscription without a refund.
   *
   *   In the event that the most recent invoice is a $0 invoice paid entirely by credit, Recurly will apply the credit back to the customer&#x2019;s account.
   *
   *   You may also terminate a subscription with no refund and then manually refund specific invoices.
   *
   * @return {Promise&lt;Subscription&gt;} An expired subscription.
   */
  async terminateSubscription (subscriptionId, params = {}) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * Cancel a subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;Subscription&gt;} A canceled or failed subscription.
   */
  async cancelSubscription (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/cancel&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Reactivate a canceled subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;Subscription&gt;} An active subscription.
   */
  async reactivateSubscription (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/reactivate&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Pause subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {SubscriptionPause} body - The object representing the JSON request to send to the server. It should conform to the schema of {SubscriptionPause}
   * @return {Promise&lt;Subscription&gt;} A subscription.
   */
  async pauseSubscription (subscriptionId, body) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/pause&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;PUT&apos;, path, body)
  }

  /**
   * Resume subscription
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;Subscription&gt;} A subscription.
   */
  async resumeSubscription (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/resume&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }

  /**
   * Fetch a subscription&apos;s pending change
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;SubscriptionChange&gt;} A subscription&apos;s pending change.
   */
  async getSubscriptionChange (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/change&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Create a new subscription change
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {SubscriptionChangeCreate} body - The object representing the JSON request to send to the server. It should conform to the schema of {SubscriptionChangeCreate}
   * @return {Promise&lt;SubscriptionChange&gt;} A subscription change.
   */
  async createSubscriptionChange (subscriptionId, body) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/change&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;POST&apos;, path, body)
  }

  /**
   * Delete the pending subscription change
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise} Subscription change was deleted.
   */
  async removeSubscriptionChange (subscriptionId) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/change&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * List a subscription&apos;s invoices
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.type - Filter by type when:
   *   - `type=charge`, only charge invoices will be returned.
   *   - `type=credit`, only credit invoices will be returned.
   *   - `type=non-legacy`, only charge and credit invoices will be returned.
   *   - `type=legacy`, only legacy invoices will be returned.
   *
   * @return {Pager&lt;Invoice&gt;} A list of the subscription&apos;s invoices.
   */
  listSubscriptionInvoices (subscriptionId, params = {}) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/invoices&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return new Pager(this, path, params)
  }

  /**
   * List a subscription&apos;s line items
   *
   * @param {string} subscriptionId - Subscription ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.original - Filter by original field.
   * @param {string} params.state - Filter by state field.
   * @param {string} params.type - Filter by type field.
   * @return {Pager&lt;LineItem&gt;} A list of the subscription&apos;s line items.
   */
  listSubscriptionLineItems (subscriptionId, params = {}) {
    let path = &apos;/sites/{site_id}/subscriptions/{subscription_id}/line_items&apos;
    path = this._interpolatePath(path, { &apos;subscription_id&apos;: subscriptionId })
    return new Pager(this, path, params)
  }

  /**
   * List a site&apos;s transactions
   *
   * @param {Object} params - The optional url parameters for this request.
   * @param {array} params.ids - Filter results by their IDs. Up to 200 IDs can be passed at once using
   *   commas as separators, e.g. `ids=h1at4d57xlmy,gyqgg0d3v9n1,jrsm5b4yefg6`.
   *
   *   **Important notes:**
   *   * The `ids` parameter cannot be used with any other ordering or filtering
   *     parameters (`limit`, `order`, `sort`, `begin_time`, `end_time`, etc)
   *   * Invalid or unknown IDs will be ignored, so you should check that the
   *     results correspond to your request.
   *   * Records are returned in an arbitrary order. Since results are all
   *     returned at once you can sort the records yourself.
   *
   * @param {number} params.limit - Limit number of records 1-200.
   * @param {string} params.order - Sort order.
   * @param {string} params.sort - Sort field. You *really* only want to sort by `updated_at` in ascending
   *   order. In descending order updated records will move behind the cursor and could
   *   prevent some records from being returned.
   *
   * @param {string} params.beginTime - Filter by begin_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.endTime - Filter by end_time when `sort=created_at` or `sort=updated_at`.
   *   **Note:** this value is an ISO8601 timestamp. A partial timestamp that does not include a time zone will default to UTC.
   *
   * @param {string} params.type - Filter by type field. The value `payment` will return both `purchase` and `capture` transactions.
   * @param {string} params.success - Filter by success field.
   * @return {Pager&lt;Transaction&gt;} A list of the site&apos;s transactions.
   */
  listTransactions (params = {}) {
    let path = &apos;/sites/{site_id}/transactions&apos;
    path = this._interpolatePath(path)
    return new Pager(this, path, params)
  }

  /**
   * Fetch a transaction
   *
   * @param {string} transactionId - Transaction ID or UUID (use prefix: `uuid-`, e.g. `uuid-123457890`).
   * @return {Promise&lt;Transaction&gt;} A transaction.
   */
  async getTransaction (transactionId) {
    let path = &apos;/sites/{site_id}/transactions/{transaction_id}&apos;
    path = this._interpolatePath(path, { &apos;transaction_id&apos;: transactionId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Fetch a unique coupon code
   *
   * @param {string} uniqueCouponCodeId - Unique Coupon Code ID or code (use prefix: `code-`, e.g. `code-abc-8dh2-def`).
   * @return {Promise&lt;UniqueCouponCode&gt;} A unique coupon code.
   */
  async getUniqueCouponCode (uniqueCouponCodeId) {
    let path = &apos;/sites/{site_id}/unique_coupon_codes/{unique_coupon_code_id}&apos;
    path = this._interpolatePath(path, { &apos;unique_coupon_code_id&apos;: uniqueCouponCodeId })
    return this._makeRequest(&apos;GET&apos;, path, null)
  }

  /**
   * Deactivate a unique coupon code
   *
   * @param {string} uniqueCouponCodeId - Unique Coupon Code ID or code (use prefix: `code-`, e.g. `code-abc-8dh2-def`).
   * @return {Promise&lt;UniqueCouponCode&gt;} A unique coupon code.
   */
  async deactivateUniqueCouponCode (uniqueCouponCodeId) {
    let path = &apos;/sites/{site_id}/unique_coupon_codes/{unique_coupon_code_id}&apos;
    path = this._interpolatePath(path, { &apos;unique_coupon_code_id&apos;: uniqueCouponCodeId })
    return this._makeRequest(&apos;DELETE&apos;, path, null)
  }

  /**
   * Restore a unique coupon code
   *
   * @param {string} uniqueCouponCodeId - Unique Coupon Code ID or code (use prefix: `code-`, e.g. `code-abc-8dh2-def`).
   * @return {Promise&lt;UniqueCouponCode&gt;} A unique coupon code.
   */
  async reactivateUniqueCouponCode (uniqueCouponCodeId) {
    let path = &apos;/sites/{site_id}/unique_coupon_codes/{unique_coupon_code_id}/restore&apos;
    path = this._interpolatePath(path, { &apos;unique_coupon_code_id&apos;: uniqueCouponCodeId })
    return this._makeRequest(&apos;PUT&apos;, path, null)
  }
}

module.exports = Client
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
